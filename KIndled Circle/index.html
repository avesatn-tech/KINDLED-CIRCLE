<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Embers — Ask a Game Character</title>
  <link rel="icon" href="img/ember.png" />
  <link rel="stylesheet" href="css/main.css" />
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <img src="img/ember.png" alt="Embers logo" class="logo" />
      <h1>Embers</h1>
    </div>
    <p class="tagline">Pick a character. Ask anything about any game. They’ll answer.</p>
  </header>

  <main class="container">
    <section class="characters">
      <article class="card" data-id="seer">
        <img src="img/seer.png" alt="Seer avatar" class="avatar" />
        <h2>Seer</h2>
        <p class="role">Lorekeeper & advice on magic builds</p>
        <button class="select-btn" data-character="seer">Select</button>
      </article>

      <article class="card" data-id="knight">
        <img src="img/knight.png" alt="Knight avatar" class="avatar" />
        <h2>Knight</h2>
        <p class="role">Practical tactics and weapon guides</p>
        <button class="select-btn" data-character="knight">Select</button>
      </article>

      <article class="card" data-id="dragon">
        <img src="img/dragon.png" alt="Dragon avatar" class="avatar" />
        <h2>Dragon</h2>
        <p class="role">Boss strategies and lore whispers</p>
        <button class="select-btn" data-character="dragon">Select</button>
      </article>
    </section>

    <section class="help">
      <p>Want to chat with the characters using Discord? <img src="img/discord.png" alt="discord" class="inline-icon" /> Use your server webhook to forward messages — or use the built-in web chat.</p>
    </section>
  </main>

  <!-- Chat modal -->
  <div id="chatModal" class="modal hidden" aria-hidden="true" role="dialog" aria-labelledby="chatTitle">
    <div class="modal-panel">
      <header class="modal-header">
        <div class="modal-title">
          <img id="modalAvatar" src="img/ember.png" alt="" class="avatar small" />
          <div>
            <h3 id="chatTitle">Character</h3>
            <small id="chatSubtitle">Asks answered by: ChatGPT</small>
          </div>
        </div>
        <button id="closeModal" aria-label="Close chat">✕</button>
      </header>

      <main id="chatMessages" class="messages" aria-live="polite"></main>

      <form id="chatForm" class="chat-form" autocomplete="off">
        <input id="chatInput" type="text" name="message" placeholder="Ask anything... (try: 'Where is the hidden smith?')" required />
        <button type="submit" id="sendBtn">Send</button>
      </form>

      <footer class="modal-footer">
        <small>Conversation stored locally. Use responsibly. Responses come from the ChatGPT API via your backend.</small>
      </footer>
    </div>
  </div>

  <script src="js/main.js" defer></script>
</body>
</html>
