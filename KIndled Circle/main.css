/* css/main.css - full replacement for layout & buttons & persona styles */

/* ============ variables ============ */
:root{
  --h-pad: clamp(12px, 2.2vw, 22px);
  --h-gap: clamp(12px, 2.4vw, 28px);
  --title-size: clamp(22px, 4.4vw, 40px);
  --lead-size: clamp(13px, 2.1vw, 16px);
  --emblem-size: clamp(48px, 8vw, 96px);
  --emblem-wrap: calc(var(--emblem-size) * 1.6);
  --text: #e8eef2;
  --muted: #9aa0a6;
  --accent: #e6722e;
  --card-radius: 12px;
}

/* ============ base layout ============ */
* { box-sizing: border-box; }
html,body { height:100%; margin:0; background:#070707; font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial; color:var(--text); -webkit-font-smoothing:antialiased; }
.page-wrap { min-height:100%; display:flex; flex-direction:column; }

/* container */
.container { width:100%; max-width:980px; margin:0 auto; padding:2.5rem 1rem; }

/* main cards wrapper */
main.container { background: rgba(255,255,255,0.02); border-radius:12px; padding:1.25rem; border:1px solid rgba(255,255,255,0.02); box-shadow:0 10px 30px rgba(0,0,0,0.65); }

/* ============ hero/header ============ */
.hero { position:relative; overflow:visible; }
.hero-inner { display:flex; align-items:center; justify-content:space-between; gap:var(--h-gap); padding:var(--h-pad); width:100%; max-width:980px; margin:0 auto; background:rgba(12,12,12,0.18); border-radius:14px; border:1px solid rgba(255,255,255,0.02); box-shadow:0 12px 36px rgba(0,0,0,0.6); backdrop-filter: blur(6px); }

.hero-left { flex:1; min-width:0; }
.site-title { font-size:var(--title-size); margin:0 0 .2rem; color:var(--text); line-height:1.02; }
.hero-lead { margin:0 0 .75rem; color:var(--muted); font-size:var(--lead-size); max-width:58ch; }

/* hero right logo wrap */
.hero-right { width:var(--emblem-wrap); display:flex; align-items:center; justify-content:center; flex-shrink:0; }
.hero-logo-wrap { width:var(--emblem-wrap); height:var(--emblem-wrap); border-radius:14px; border:1px solid rgba(255,255,255,0.02); box-shadow:0 20px 40px rgba(0,0,0,0.55); display:flex; align-items:center; justify-content:center; background: linear-gradient(180deg, rgba(255,120,30,0.02), transparent); }
.hero-spark { width:var(--emblem-size); height:auto; object-fit:contain; }

/* canvas overlay */
.embers-canvas { position:absolute; right:0; top:0; left:0; height:calc(var(--emblem-wrap)); pointer-events:none; z-index:10; }

/* hero CTA */
.hero-cta { margin-top:8px; }
.btn { display:inline-flex; align-items:center; gap:10px; text-decoration:none; border:0; cursor:pointer; font-weight:600; border-radius:12px; padding:8px 12px; background:transparent; color:var(--text); }
.btn .icon { width:18px; height:18px; display:inline-block; object-fit:contain; filter:drop-shadow(0 6px 18px rgba(0,0,0,0.3)); }

/* ghost CTA (Join) - orange glow */
.btn.ghost {
  background: linear-gradient(180deg, #ffbd8f, #e56e1e);
  color: #100;
  padding: 12px 22px;
  border-radius: 16px;
  box-shadow: 0 10px 40px rgba(230,110,40,0.18);
  border: 1px solid rgba(0,0,0,0.08);
}

/* subtle breathing pulse class */
.pulse { animation: ember-breathe 3.6s ease-in-out infinite; }
@keyframes ember-breathe {
  0% { box-shadow: 0 8px 20px rgba(230,100,30,0.08); transform: translateY(0); }
  50% { box-shadow: 0 20px 46px rgba(230,100,30,0.12); transform: translateY(-1px); }
  100% { box-shadow: 0 8px 20px rgba(230,100,30,0.08); transform: translateY(0); }
}

/* ============ persona cards ============ */
.persona-cards { margin:1rem 0; display:grid; gap:1rem; grid-template-columns:repeat(3,1fr); align-items:start; }

.persona.card { background: rgba(255,255,255,0.02); border-radius:var(--card-radius); padding:1rem; border:1px solid rgba(255,255,255,0.02); box-shadow:0 8px 20px rgba(0,0,0,0.6); display:flex; flex-direction:column; gap:.6rem; cursor:pointer; min-height:220px; transition: transform .12s ease, box-shadow .12s ease; }
.persona.card:hover { transform: translateY(-6px); box-shadow:0 18px 46px rgba(0,0,0,0.6); }

.persona-top { display:flex; align-items:center; gap:12px; }
.persona-icon { width:48px; height:48px; display:flex; align-items:center; justify-content:center; border-radius:10px; background:rgba(255,255,255,0.01); flex-shrink:0; }
.persona-icon img { width:28px; height:28px; object-fit:contain; }

.persona.card h3 { margin:0; color:var(--text); font-size:20px; line-height:1.05; }
.persona-desc { margin:0; color:var(--muted); font-size:14px; line-height:1.45; flex:1 1 auto; max-height:6.6rem; overflow:hidden; }

.card-actions { display:flex; gap:10px; align-items:center; justify-content:flex-start; margin-top:6px; }
.btn.small.select-btn { background: linear-gradient(180deg,#fff,#efefef); color:#0b0b0b; padding:8px 14px; border-radius:12px; font-weight:700; box-shadow:0 8px 20px rgba(0,0,0,0.28); border:1px solid rgba(0,0,0,0.06); }

/* hide preview btns */
.btn.ghost.preview-btn { display:none !important; }

/* selected state */
.persona.card.selected { outline: 2px solid rgba(230,110,40,0.12); outline-offset: 6px; }

/* ============ responsive ============ */
@media (max-width:1099px) {
  .persona-cards { grid-template-columns:repeat(2,1fr); }
}

@media (max-width:719px) {
  .hero-inner { flex-direction:column; align-items:flex-start; gap:12px; padding: clamp(12px,3.4vw,18px); }
  .hero-right { display:none; }
  .persona-cards { display:flex; flex-direction:column; gap:16px; margin:0.9rem 0; padding:0; }
  .persona.card { width:100%; min-height:auto; padding:1rem; box-shadow:0 8px 18px rgba(0,0,0,0.55); border-radius:12px; }
  .card-actions .select-btn { padding:10px 16px; min-width:120px; }
}

/* small tweak for tiny screens */
@media (max-width:420px) {
  .btn.small.select-btn { min-width:100px; padding:10px 12px; }
}

/* hr and footer */
.hr-subtle { border:0; border-top:1px solid rgba(255,255,255,0.06); margin:1.25rem 0; opacity:0.9; }
footer { margin-top:1.25rem; color:var(--muted); text-align:center; padding:0.5rem 0; }

/* fallback chat style */
.restore-chat-fallback { border-radius:10px; background: rgba(0,0,0,0.06); padding:0.75rem; }
